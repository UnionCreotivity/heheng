<!DOCTYPE html>
<html lang="zh-tw">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="./css/all.css" />
    <title>經典建案</title>
  </head>
  <body>
    <nav id="nav"></nav>
    <main id="classic">
      <section class="cut-1">
        <div class="cut-1-left">
          <div class="cut-1-left-banner">
            <picture>
              <source
                media="(max-width:1024px)"
                srcset="./img/classic/cut-1-L-ph.webp"
              />
              <img src="./img/classic/banner-L.webp" alt="banner-L" />
            </picture>
          </div>
          <div class="cut-1-left-para">
            <div class="cut-1-left-para-first">
              <h1>History</h1>
              <div class="cut-1-left-para-line"></div>
            </div>
            <div class="cut-1-left-para-second">
              <div class="cut-1-left-para-line-second pc"></div>
              <h4>經典建案</h4>
            </div>
          </div>
        </div>
        <div class="cut-1-right">
          <div class="cut-1-right-date-picker">
            <div class="date-picker-zh">年份區間</div>
            <div class="date-picker-en">YEAR</div>
            <div class="date-picker-main">
              <div class="date-picker-from date-picker-time">
                <select name="date-from" id="date-from-select">
                  <option disabled selected value>----</option>
                  <option value="2000">2000</option>
                  <option value="2001">2001</option>
                  <option value="2002">2002</option>
                  <option value="2003">2003</option>
                  <option value="2004">2004</option>
                  <option value="2005">2005</option>
                  <option value="2006">2006</option>
                  <option value="2007">2007</option>
                  <option value="2008">2008</option>
                  <option value="2009">2009</option>
                  <option value="2010">2010</option>
                  <option value="2011">2011</option>
                  <option value="2012">2012</option>
                  <option value="2013">2013</option>
                  <option value="2014">2014</option>
                  <option value="2015">2015</option>
                  <option value="2016">2016</option>
                  <option value="2017">2017</option>
                  <option value="2018">2018</option>
                  <option value="2019">2019</option>
                  <option value="2020">2020</option>
                  <option value="2021">2021</option>
                  <option value="2022">2022</option>
                  <option value="2023">2023</option>
                </select>
                <div class="date-icon">
                  <img src="./img/classic/date-icon.svg" alt="date-icon" />
                </div>
              </div>
              <div class="date-picker-line"></div>
              <div class="date-picker-to date-picker-time">
                <select name="date-to" id="date-from-to">
                  <option disabled selected value>----</option>
                  <option value="2001">2001</option>
                  <option value="2002">2002</option>
                  <option value="2003">2003</option>
                  <option value="2004">2004</option>
                  <option value="2005">2005</option>
                  <option value="2006">2006</option>
                  <option value="2007">2007</option>
                  <option value="2008">2008</option>
                  <option value="2009">2009</option>
                  <option value="2010">2010</option>
                  <option value="2011">2011</option>
                  <option value="2012">2012</option>
                  <option value="2013">2013</option>
                  <option value="2014">2014</option>
                  <option value="2015">2015</option>
                  <option value="2016">2016</option>
                  <option value="2017">2017</option>
                  <option value="2018">2018</option>
                  <option value="2019">2019</option>
                  <option value="2020">2020</option>
                  <option value="2021">2021</option>
                  <option value="2022">2022</option>
                  <option value="2023">2023</option>
                  <option value="2024">2024</option>
                </select>
                <div class="date-icon">
                  <img src="./img/classic/date-icon.svg" alt="date-icon" />
                </div>
              </div>
            </div>
            <div class="date-picker-button">
              <button>
                <span class="pc">搜尋</span>
                <span
                  ><img src="./img/classic/search-icon.svg" alt="search-icon"
                /></span>
              </button>
            </div>
          </div>
          <div class="cut-1-right-item-container">
            <div class="swiper-wrapper pc">
              <div class="swiper-slide">
                <div class="swiper-slide-item">
                  <div class="swiper-slide-item-img">
                    <img
                      src="./img/classic/classic-pic-1.webp"
                      alt="classic-pic-1"
                    />
                    <div class="swiper-slide-item-img-back">
                      <h3>恆合芝山</h3>
                      <div class="line"></div>
                      <h1>2022</h1>
                    </div>
                  </div>
                </div>
                <div class="swiper-slide-item">
                  <div class="swiper-slide-item-img">
                    <img
                      src="./img/classic/classic-pic-2.webp"
                      alt="classic-pic-2"
                    />
                    <div class="swiper-slide-item-img-back">
                      <h3>江山</h3>
                      <div class="line"></div>
                      <h1>2022</h1>
                    </div>
                  </div>
                </div>
                <div class="swiper-slide-item">
                  <div class="swiper-slide-item-img">
                    <img
                      src="./img/classic/classic-pic-3.webp"
                      alt="classic-pic-3"
                    />
                    <div class="swiper-slide-item-img-back">
                      <h3>大安MONEY</h3>
                      <div class="line"></div>
                      <h1>2020</h1>
                    </div>
                  </div>
                </div>
              </div>
              <div class="swiper-slide">
                <div class="swiper-slide-item">
                  <div class="swiper-slide-item-img">
                    <img
                      src="./img/classic/classic-pic-4.webp"
                      alt="classic-pic-4"
                    />
                    <div class="swiper-slide-item-img-back">
                      <h3>瑋石天好韻</h3>
                      <div class="line"></div>
                      <h1>2019</h1>
                    </div>
                  </div>
                </div>
                <div class="swiper-slide-item">
                  <div class="swiper-slide-item-img">
                    <img
                      src="./img/classic/classic-pic-5.webp"
                      alt="classic-pic-5"
                    />
                    <div class="swiper-slide-item-img-back">
                      <h3>I世紀</h3>
                      <div class="line"></div>
                      <h1>2017</h1>
                    </div>
                  </div>
                </div>
                <div class="swiper-slide-item">
                  <div class="swiper-slide-item-img">
                    <img
                      src="./img/classic/classic-pic-6.webp"
                      alt="classic-pic-6"
                    />
                    <div class="swiper-slide-item-img-back">
                      <h3>瑋石登峰</h3>
                      <div class="line"></div>
                      <h1>2017</h1>
                    </div>
                  </div>
                </div>
              </div>
              <div class="swiper-slide">
                <div class="swiper-slide-item">
                  <div class="swiper-slide-item-img">
                    <img
                      src="./img/classic/classic-pic-7.webp"
                      alt="classic-pic-7"
                    />
                    <div class="swiper-slide-item-img-back">
                      <h3>大師大</h3>
                      <div class="line"></div>
                      <h1>2012</h1>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <div class="right-item ph">
              <div class="right-item-main">
                <div class="right-item-img">
                  <img
                    src="./img/classic/ph/classic-pic-1.webp"
                    alt="classic-pic-1"
                  />
                </div>
                <div class="right-item-para">
                  <h1>2022</h1>
                  <div class="line"></div>
                  <h3>恆合芝山</h3>
                </div>
              </div>
              <div class="right-item-main">
                <div class="right-item-img">
                  <img
                    src="./img/classic/ph/classic-pic-2.webp"
                    alt="classic-pic-1"
                  />
                </div>
                <div class="right-item-para">
                  <h1>2022</h1>
                  <div class="line"></div>
                  <h3>江山</h3>
                </div>
              </div>
              <div class="right-item-main">
                <div class="right-item-img">
                  <img
                    src="./img/classic/ph/classic-pic-3.webp"
                    alt="classic-pic-1"
                  />
                </div>
                <div class="right-item-para">
                  <h1>2020</h1>
                  <div class="line"></div>
                  <h3>大安MONEY</h3>
                </div>
              </div>
              <div class="right-item-main">
                <div class="right-item-img">
                  <img
                    src="./img/classic/ph/classic-pic-4.webp"
                    alt="classic-pic-1"
                  />
                </div>
                <div class="right-item-para">
                  <h1>2019</h1>
                  <div class="line"></div>
                  <h3>瑋石天好韻</h3>
                </div>
              </div>
              <div class="right-item-main">
                <div class="right-item-img">
                  <img
                    src="./img/classic/ph/classic-pic-5.webp"
                    alt="classic-pic-1"
                  />
                </div>
                <div class="right-item-para">
                  <h1>2017</h1>
                  <div class="line"></div>
                  <h3>I世紀</h3>
                </div>
              </div>
              <div class="right-item-main">
                <div class="right-item-img">
                  <img
                    src="./img/classic/ph/classic-pic-6.webp"
                    alt="classic-pic-1"
                  />
                </div>
                <div class="right-item-para">
                  <h1>2017</h1>
                  <div class="line"></div>
                  <h3>瑋石登峰</h3>
                </div>
              </div>
              <div class="right-item-main">
                <div class="right-item-img">
                  <img
                    src="./img/classic/ph/classic-pic-7.webp"
                    alt="classic-pic-1"
                  />
                </div>
                <div class="right-item-para">
                  <h1>2012</h1>
                  <div class="line"></div>
                  <h3>大師大</h3>
                </div>
              </div>
            </div>
          </div>
          <div class="right-fixed">
            <img
              src="./img/classic/classic-right-fixed.png"
              alt="classic-right-fixed"
            />
          </div>
        </div>
      </section>
    </main>
    <footer id="footer">
      <span>Copyright © <span class="year">2024</span>恆合機構版權所有</span
      ><span>地址：231台灣新店區寶橋路140巷11號11樓</span
      ><span>TEL： 02-2910-8718</span>
    </footer>
    <script src="./js/jquery/jquery-3.7.1.min.js"></script>
    <script
      src="https://code.jquery.com/ui/1.13.2/jquery-ui.min.js"
      integrity="sha256-lSjKY0/srUM9BE3dPm+c4fBo1dky2v27Gdjm2uoZaL0="
      crossorigin="anonymous"
    ></script>
    <script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>
    <script src="./js/nav.js"></script>
    <script src="./js/gsap/gsap.min.js"></script>
    <script src="./js/gsap/ScrollTrigger.min.js"></script>
    <script src="./js/gsap/SplitText.min.js"></script>
    <script src="./js/classic.json"></script>
    <script>
      $(document).ready(function () {
        if (window.innerWidth <= 1024) {
          $(".pc").remove();
        } else {
          $(".ph").remove();
        }
      });
      $(window).on("load", function () {
        //日期選擇防呆
        $("#date-from-select").on("change", function () {
          const fromDate = $("#date-from-select").val();
          const toDate = $("#date-from-to").val();
          if (fromDate >= toDate) {
            let plus = Number(fromDate) + 1;
            $("#date-from-to").val(`${plus}`).change();
          }
        });
        $("#date-from-to").on("change", function () {
          const fromDate = $("#date-from-select").val();
          const toDate = $("#date-from-to").val();
          if (fromDate >= toDate) {
            let minus = Number(toDate) - 1;
            $("#date-from-select").val(`${minus}`).change();
          }
        });
        let classicSwiper;
        if (window.innerWidth > 1024) {
          classicSwiper = new Swiper(".cut-1-right-item-container", {
            direction: "vertical",
            mousewheel: true,
            speed: 800,
            slidesPerView: "1",
            spaceBetween: 50,
          });
        }
        $(".date-picker-button button").on("click", function () {
          const fromDate = $("#date-from-select").val();
          const toDate = $("#date-from-to").val();
          $.ajax({
            url: "./js/classic.json",
            type: "GET",
            dataType: "json",
            success: function (response) {
              // console.log(fromDate);
              const start = response.findIndex((el) => el.year === fromDate);
              const end = response.findIndex((el) => el.year === toDate);
              if (start == -1 || end == -1) return alert("請選擇日期！！！");
              const data = response.slice(start, end + 1);
              const dataLength = data.length;
              const length = Math.ceil(dataLength / 3);
              let src = "";
              let count = 0;
              if (window > 1024) {
                classicSwiper.removeAllSlides();
                for (let i = 0; i < length; i++) {
                  for (let j = 0; j < 3; j++) {
                    if (data[count]) {
                      src += `
                      <div class="swiper-slide-item">
                      <div class="swiper-slide-item-img">
                        <img
                          src="${data[count].img}"
                          alt="classic-pic"
                        />
                        <div class="swiper-slide-item-img-back">
                          <h3>${data[count].title}</h3>
                          <div class="line"></div>
                          <h1>${data[count].year}</h1>
                        </div>
                      </div>
                    </div>`;
                    }
                    count++;
                  }
                  classicSwiper.appendSlide(
                    `<div class="swiper-slide">${src}</div>`
                  );
                  src = ``;
                }
              } else {
                for (let i = 0; i < dataLength; i++) {
                  src += ` <div class="right-item-main">
                <div class="right-item-img">
                  <img
                    src="${data[i].img}"
                    alt="classic-pic-1"
                  />
                </div>
                <div class="right-item-para">
                  <h1>${data[i].year}</h1>
                  <div class="line"></div>
                  <h3>${data[i].title}</h3>
                </div>
              </div>`;
                }
                $(".right-item").empty().append(src);
                src = "";
              }
            },
            error: function (reject) {
              alert("錯誤！！！");
            },
          });
        });
      });
    </script>
  </body>
</html>
